<div class="row">
  <div class="col">
    <div id="description">
      <div class="section-head">
        <h6>Armstrong Number</h6>
      </div>
      <div class="section-body">
        <p>An Armstrong Number, or narcissistic number, is a number that equals the sum of each digit taken to the power of the total number of digits.</p>
        <p>Example: Take 1634. Four digits. So, 1<sup>4</sup> + 6<sup>4</sup> + 3<sup>4</sup> + 4<sup>4</sup> = 1 + 1296 + 81 + 256 = 1634. So 1634 is an Armstrong number.</p>
      </div>
    </div>
    <div id="armstrong-input" class="section-body">
      <div class="input-group">
        <input type="text" placeholder="Enter a number"></input>
        <div class="input-group-append">
          <button id="armstrong-run" class="btn btn-custom">Check Number</button>
        </div>
      </div>
    </div>
    <div class="divider"></div>
    <div id="armstrong-display" class="section-body"></div>
    <div id="armstrong-results" class="section-body"></div>
  </div>
</div>

<script>
  $(document).ready(function() {
    $("#armstrong-run").click(function() {
      var userInput = $("#armstrong-input").find("input").val().trim();
      $('#armstrong-input').find('input').val('');
      if (Math.floor(userInput)==userInput && $.isNumeric(userInput)) {
        var n_sq = [];
        var str = userInput.toString();
        var work = "";
        for (var i = 0; i < str.length; i++) {
            n_sq.push(parseInt(str[i])**str.length);
            work += parseInt(str[i]) + "<sup>" + str.length +"</sup> + ";
        }
        work = work.slice(0, -2)
        if (n_sq.reduce((a,b) => a + b, 0) == userInput) {
          $("#armstrong-results").text(userInput + " is an Armstrong number.").removeClass('error-display');
          work += " = " + userInput;
        }
        else {
          $("#armstrong-results").text(userInput + " is not an Armstrong number.").removeClass('error-display');
          work += " = " + n_sq.reduce((a,b) => a + b, 0);
        }
        $("#armstrong-display").removeAttr("hidden").html(work);
      }
      else {
        $("#armstrong-display").attr("hidden", true);
        $("#armstrong-results").text("Please input a number.").addClass('error-display');
      }
    });
    var input = document.getElementById("armstrong-input")
    input.addEventListener("keyup", function(event) {
      if (event.keyCode === 13) {
       event.preventDefault();
       document.getElementById("armstrong-run").click();
      };
    });
  });
</script>
